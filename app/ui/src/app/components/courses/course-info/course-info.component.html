<app-navbar></app-navbar>

<div class="container col-xxl-8 px-4 py-5">
    <div class="row align-items-center g-5 py-5">
        <div class="col-lg-12 text-center">
            <h1 class="display-3 fw-bold  mb-4">{{course.title}}</h1>
            <p class="lead mb-4">{{course.description}}</p>
            <p class="fs-5 mb-4"><span class="fw-bold">Synopsis: </span>{{course.synopsis}}</p>
            <div class="d-grid gap-2 d-md-flex justify-content-md-center">
                <button type="button" class="btn btn-primary btn-lg px-4 me-md-2" (click)="enrollCourse()" *ngIf="!isCourseRegistered">Enroll</button>
                <button type="button" class="btn btn-outline-primary btn-lg px-4" *ngIf="isCourseRegistered" [routerLink]="['/courses/course/'+course.id+'/lectures']">View</button>
            </div>
        </div>
    </div>

    <!-- Roadmap Section -->
    <section class="roadmap-container mt-5">
        <h2 class="text-center mb-4">Course Roadmap</h2>
        <div class="roadmap-list">
            <ng-container *ngFor="let unit of course.units; let i = index">
                <div class="roadmap-item">
                    <div class="roadmap-title">{{unit.unitTitle}}</div>
                    <!-- Add a connector line for all but the last unit -->
                    <div class="roadmap-connector" *ngIf="i < course.units.length - 1"></div>
                </div>
            </ng-container>
        </div>
    </section>
</div>

<app-footer></app-footer>
